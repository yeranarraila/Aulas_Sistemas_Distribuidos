<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="pt"><head>

  
  <script></script><!-- NewPage --><!-- Generated by javadoc (version 1.7.0_55) on Wed May 06 18:38:57 BRT 2015 --><title>ServidorImpl</title>
  

  
  
  <meta name="date" content="2015-05-06">

  
  <link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style"></head><body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ServidorImpl";
    }
//-->
</script>
<noscript><div>JavaScript is disabled on your browser.</div>
</noscript><!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top"><!--   --></a><a name="navbar_top_firstrow"><!--   --></a>
<ul class="navList" title="Navigation">
  <li><a href="overview-summary.html">Overview</a></li>
  <li><a href="package-summary.html">Package</a></li>
  <li class="navBarCell1Rev">Class</li>
  <li><a href="package-tree.html">Tree</a></li>
  <li><a href="deprecated-list.html">Deprecated</a></li>
  <li><a href="index-all.html">Index</a></li>
  <li><a href="help-doc.html">Help</a></li>
</ul>
</div>

<div class="subNav">
<ul class="navList">
  <li><a href="runSERVER.html" title="class in &lt;Unnamed&gt;"><span class="strong">Prev Class</span></a></li>
  <li>Next Class</li>
</ul>
<ul class="navList">
  <li><a href="index.html?ServidorImpl.html" target="_top">Frames</a></li>
  <li><a href="ServidorImpl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
  <li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script></div>
<div>
<ul class="subNavList">
  <li>Summary:&nbsp;</li>
  <li>Nested&nbsp;|&nbsp;</li>
  <li>Field&nbsp;|&nbsp;</li>
  <li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
  <li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
  <li>Detail:&nbsp;</li>
  <li>Field&nbsp;|&nbsp;</li>
  <li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
  <li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   --></a></div>

<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h2 title="Class ServidorImpl" class="title">Class ServidorImpl</h2>
</div>

<div class="contentContainer">
<ul class="inheritance">
  <li>java.lang.Object</li>
  <li>
    <ul class="inheritance">
      <li>ServidorPOA</li>
      <li>
        <ul class="inheritance">
          <li>ServidorImpl</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
<div class="description">
<ul class="blockList">
  <li class="blockList">
    <hr><br><pre>public class <span class="strong">ServidorImpl</span><br>extends ServidorPOA</pre>
<br> Classe que contém todos os métodos acessíveis remotamente e descritos no arquivo <span style="font-style: italic;">Server.idl</span></li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
  <li class="blockList"><!-- ======== CONSTRUCTOR SUMMARY ======== -->
    <ul class="blockList">
      <li class="blockList"><a name="constructor_summary"><!--   --></a>
        <h3>Constructor Summary</h3>
        <table class="overviewSummary" summary="Constructor Summary table, listing constructors, and an explanation" border="0" cellpadding="3" cellspacing="0">
          <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
          <tbody>
            <tr>
              <th class="colOne" scope="col">Constructor and Description</th>
            </tr>
            <tr class="altColor">
              <td class="colOne"><code><strong><a href="ServidorImpl.html#ServidorImpl%28%29">ServidorImpl</a></strong>()</code>&nbsp;</td>
            </tr>
          </tbody>
        </table>
      </li>
    </ul>
<!-- ========== METHOD SUMMARY =========== -->
    <ul class="blockList">
      <li class="blockList"><a name="method_summary"><!--   --></a>
        <h3>Method Summary</h3>
        <table class="overviewSummary" summary="Method Summary table, listing methods, and an explanation" border="0" cellpadding="3" cellspacing="0">
          <caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
          <tbody>
            <tr>
              <th class="colFirst" scope="col">Modifier and Type</th>
              <th class="colLast" scope="col">Method and Description</th>
            </tr>
            <tr class="altColor">
              <td class="colFirst"><code>int</code></td>
              <td class="colLast"><code><strong><a href="ServidorImpl.html#entrarNoSD%28org.omg.CORBA.Object,%20java.lang.String%29">entrarNoSD</a></strong>(org.omg.CORBA.Object&nbsp;servidor,
java.lang.String&nbsp;key)</code> <br>
Adiciona uma nova máquina ao Sistema Distribuído, retornando a
quantidade de máquinas conectadas ao Sistema<br>
              </td>
            </tr>
            <tr class="rowColor">
              <td class="colFirst"><code>void</code></td>
              <td class="colLast"><code><strong><a href="ServidorImpl.html#mensagemDoLider%28int%29">mensagemDoLider</a></strong>(int&nbsp;requisicao)</code>
              <br>
Recebe requisições do Lider. Este método é utilizado somente pelas
máquinas do Sistema que não são líderes do grupo<br>
              </td>
            </tr>
            <tr class="altColor">
              <td class="colFirst"><code>void</code></td>
              <td class="colLast"><code><strong><a href="ServidorImpl.html#mensagemDosMembros%28int%29">mensagemDosMembros</a></strong>(int&nbsp;requisicao)</code><br>
Recebe requisições dos outros membros do Sistema Distribuído.&nbsp;
Utilizado tanto por&nbsp; máquinas como por líderes do grupo <br>
              </td>
            </tr>
            <tr class="rowColor">
              <td class="colFirst"><code>java.lang.String</code></td>
              <td class="colLast"><code><strong><a href="ServidorImpl.html#requisicao_cliente%28int%29">requisicao_cliente</a></strong>(int&nbsp;requisicao)</code>
              <br>
Recebe a requisição passada pelo usuário e retorna uma resposta ao mesmo. Método utilizado somente pelo
Líder<br>
              </td>
            </tr>
            <tr class="altColor">
              <td class="colFirst"><code>void</code></td>
              <td class="colLast"><code><strong><a href="ServidorImpl.html#setLeaderLocation%28org.omg.CORBA.Object%29">setLeaderLocation</a></strong>(org.omg.CORBA.Object&nbsp;leaderLocation)</code>
              <br>
Registra o IOR do Líder<br>
              </td>
            </tr>
            <tr class="rowColor">
              <td class="colFirst"><code>void</code></td>
              <td class="colLast"><code><strong><a href="ServidorImpl.html#setMaliciosidade%28int%29">setMaliciosidade</a></strong>(int&nbsp;malicioso)</code><br>
Define se o integrante do Sistema Distribuído simulará ou não&nbsp; um
integrante malicioso<br>
              </td>
            </tr>
            <tr class="altColor">
              <td class="colFirst"><code>void</code></td>
              <td class="colLast"><code><strong><a href="ServidorImpl.html#setMyName%28java.lang.String%29">setMyName</a></strong>(java.lang.String&nbsp;myName)</code>
              <br>
Registra o próprio nome com que é reconhecido pelo Sistema Distribuído<br>
              </td>
            </tr>
            <tr class="rowColor">
              <td class="colFirst"><code>void</code></td>
              <td class="colLast"><code><strong><a href="ServidorImpl.html#updateSD%28org.omg.CORBA.Object%5B%5D,%20java.lang.String%5B%5D%29">updateSD</a></strong>(org.omg.CORBA.Object[]&nbsp;participantes,
java.lang.String[]&nbsp;chaves)</code> <br>
Atualiza a lista de integrantes do Sistema Distribuído<br>
              </td>
            </tr>
          </tbody>
        </table>
        <ul class="blockList">
          <li class="blockList"><a name="methods_inherited_from_class_java.lang.Object"><!--   --></a>
            <h3>Methods inherited from class&nbsp;java.lang.Object</h3>
            <code>clone, equals, finalize, getClass, hashCode, notify,
notifyAll, toString, wait, wait, wait</code></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
</div>
<div class="details">
<ul class="blockList">
  <li class="blockList"><!-- ========= CONSTRUCTOR DETAIL ======== -->
    <ul class="blockList">
      <li class="blockList"><a name="constructor_detail"><!--   --></a>
        <h3>Constructor Detail</h3>
        <a name="ServidorImpl()"><!--   --></a>
        <ul class="blockListLast">
          <li class="blockList">
            <h4>ServidorImpl</h4>
            <pre>public&nbsp;ServidorImpl()</pre>
          </li>
        </ul>
      </li>
    </ul>
<!-- ============ METHOD DETAIL ========== -->
    <ul class="blockList">
      <li class="blockList"><a name="method_detail"><!--   --></a>
        <h3>Method Detail</h3>
        <a name="updateSD(org.omg.CORBA.Object[], java.lang.String[])"><!--   --></a>
        <ul class="blockList">
          <li class="blockList">
            <h4>updateSD</h4>
            <pre>public&nbsp;void&nbsp;updateSD(org.omg.CORBA.Object[]&nbsp;participantes,<br>            java.lang.String[]&nbsp;chaves)</pre>
            <br>
Atualiza a lista de integrantes do Sistema Distribuído&nbsp; sempre que
uma nova máquina é adicionada. <br>
            <br>
            <big><span style="font-weight: bold;"> Parâmetros: </span></big><br>
            <ul>
              <li>
                <pre>participantes</pre>
- Lista atual contendo os IORs de todos os
integrantes do Sistema Distribuído</li>
              <li>
                <pre>chaves</pre>
- Lista atual contendo o nome de todos integrantes do Sistema
Distribuído<br>
              </li>
            </ul>
          </li>
        </ul>
        <a name="entrarNoSD(org.omg.CORBA.Object, java.lang.String)"><!--   --></a>
        <ul class="blockList">
          <li class="blockList">
            <h4>entrarNoSD</h4>
            <pre>public&nbsp;int&nbsp;entrarNoSD(org.omg.CORBA.Object&nbsp;servidor,<br>             java.lang.String&nbsp;key)</pre>
            <br>
Método do Líder. Toda vez que uma máquina "deseja" fazer parte do&nbsp;


Sistema Distribuído, ela busca o Líder e invoca o método <span style="font-style: italic;">entrarNoSD</span>.O Líder, por sua vez,
adiciona a máquina ao Sistema e informa a todos os integrantes do mesmo
através do método <span style="font-style: italic;">updateSD</span>.<br>
            <br><big><span style="font-weight: bold;">
Parâmetros:</span></big><br><ul>
              <li>
<pre>servidor</pre></li>
</ul>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
- IOR da máquina que está sendo adicionada ao Sistema Distribuído<br><ul>
              <li>
<pre>key</pre></li>
</ul>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
- Nome com que a máquina será conhecida no Sistema Distribuído<br></li>
</ul>
        <a name="mensagemDoLider(int)"><!--   --></a>
        <ul class="blockList">
          <li class="blockList">
            <h4>mensagemDoLider</h4>
            <pre>public&nbsp;void&nbsp;mensagemDoLider(int&nbsp;requisicao)</pre>
            <br>
O Líder fica encarregado de receber a(s) requisição(ões) do(s)
Cliente(s) e repassá-las aos demais integrantes do Sistema Distribuído.
Os integrantes recebem esse repasse através do método <span style="font-style: italic;">mensagemDoLíder</span>.
<br><big><span style="font-weight: bold;">
<br>Parâmetros:</span></big><br>
            <ul>
              <li>
                <pre>requisicao</pre>
- Requisição recebida do Cliente pelo Líder </li>
            </ul>
          </li>
</ul>
        <a name="mensagemDosMembros(int)"><!--   --></a>
        <ul class="blockList">
          <li class="blockList">
            <h4>mensagemDosMembros</h4>
            <pre>public&nbsp;void&nbsp;mensagemDosMembros(int&nbsp;requisicao)</pre>
            <br>
Ao receber a requisição do Líder, os membros do Sistema Distribuído trocam entre si o que foi recebido. Essa troca é
realizada através do método <span style="font-style: italic;">mensagemDosMembros</span>,
e é livre de erros se o membro não for malicioso. O método também é
utilizado pelos integrantes do sistema para repassarem ao Líder sua
decisão final, baseada no algoritmo de Lamport.<br><big><span style="font-weight: bold;">
<br>Parâmetros:</span></big><br>
            <ul>
              <li>

<pre>requisicao</pre> - Requisição recebida do Líder pelos outros membros do Sistema Distribuído. Essa requisição será idêntica a recebida do Cliente
pelo Líder se o membro comunicante não for malicioso. </li>
            </ul>



          </li>
</ul>
        <a name="requisicao_cliente(int)"><!--   --></a>
        <ul class="blockList">
          <li class="blockList">
            <h4>requisicao_cliente</h4>
            <pre>public&nbsp;java.lang.String&nbsp;requisicao_cliente(int&nbsp;requisicao)</pre>
            <br>
Método que permite o Líder receber uma requisição do Cliente. Esse método invoca o método <span style="font-style: italic;">processarRequest</span> da classe <span style="font-style: italic;">ServerUtils.SDMethods</span>
para fazer o tratamento da requisição e repassá-la aos demais integrantes do Sistema Distribuído. <br><span style="font-weight: bold;">
<br><big>Parâmetros:</big></span><br>
            <ul>
              <li>
<pre>requisicao</pre> - Requisição enviada do Cliente para o Líder<br> </li>
            </ul>


 </li>
</ul>
        <a name="setMyName(java.lang.String)"><!--   --></a>
        <ul class="blockList">
          <li class="blockList">
            <h4>setMyName</h4>
            <pre>public&nbsp;void&nbsp;setMyName(java.lang.String&nbsp;myName)</pre>
            <br>Possibilita
ao servidor manter consigo seu próprio nome de domínio (com o que é
reconhecido pelos demais membros do
Sistema Distribuído). Isso é necessário para que, no momento de enviar
mensagens para os integrantes do Sistema, evite o envio desta mensagem
para si mesmo. <br><big><span style="font-weight: bold;">
<br>Parâmetros:</span></big><br>
            <ul>
              <li>
<pre>myName</pre> - Nome com que é reconhecido pelo Sistema Distribuído </li>
            </ul>
 </li>
</ul>
        <a name="setMaliciosidade(int)"><!--   --></a>
        <ul class="blockList">
          <li class="blockList">
            <h4>setMaliciosidade</h4>
            <pre>public&nbsp;void&nbsp;setMaliciosidade(int&nbsp;malicioso)</pre>
            <br>
Define se o membro simulará ou não um comportamento arbitrário. <br><big><span style="font-weight: bold;">
<br>Parâmetros: </span></big><br><ul><li>
<pre>malicioso</pre> - será setado em 0 caso o servidor não seja malicioso e em 1 caso seja. </li></ul>

 </li>
</ul>
        <a name="setLeaderLocation(org.omg.CORBA.Object)"><!--   --></a>
        <ul class="blockListLast">
          <li class="blockList">
            <h4>setLeaderLocation</h4>
            <pre>public&nbsp;void&nbsp;setLeaderLocation(org.omg.CORBA.Object&nbsp;leaderLocation)</pre>
            <br>Permite
aos membros do Sistema Distribuído possuírem o IOR do Líder, a fim de
evitar buscas desnecessárias na lista de integrantes. <br><big><span style="font-weight: bold;">
<br>Parâmetros: </span></big><br>
            <ul>
              <li>
<pre>leaderLocation</pre> - IOR do Lider </li>
            </ul>


          </li>
</ul>
      </li>
    </ul>
  </li>
</ul>
</div>
</div>

<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom"><!--   --></a><a name="navbar_bottom_firstrow"><!--   --></a>
<ul class="navList" title="Navigation">
  <li><a href="overview-summary.html">Overview</a></li>
  <li><a href="package-summary.html">Package</a></li>
  <li class="navBarCell1Rev">Class</li>
  <li><a href="package-tree.html">Tree</a></li>
  <li><a href="deprecated-list.html">Deprecated</a></li>
  <li><a href="index-all.html">Index</a></li>
  <li><a href="help-doc.html">Help</a></li>
</ul>
</div>

<div class="subNav">
<ul class="navList">
  <li><a href="runSERVER.html" title="class in &lt;Unnamed&gt;"><span class="strong">Prev Class</span></a></li>
  <li>Next Class</li>
</ul>
<ul class="navList">
  <li><a href="index.html?ServidorImpl.html" target="_top">Frames</a></li>
  <li><a href="ServidorImpl.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
  <li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script></div>
<div>
<ul class="subNavList">
  <li>Summary:&nbsp;</li>
  <li>Nested&nbsp;|&nbsp;</li>
  <li>Field&nbsp;|&nbsp;</li>
  <li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
  <li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
  <li>Detail:&nbsp;</li>
  <li>Field&nbsp;|&nbsp;</li>
  <li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
  <li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   --></a></div>

<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body></html>